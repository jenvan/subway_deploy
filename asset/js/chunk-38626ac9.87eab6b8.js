(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38626ac9"],{1605:function(t,e,a){"use strict";var i=a("cc1c"),n=a.n(i);n.a},"58af":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("el-page-header",{attrs:{content:"查看计划"},on:{back:t.goBack}}),a("div",{staticClass:"top-step"},[a("el-steps",{staticStyle:{width:"30%"},attrs:{active:0}},[a("el-step",{attrs:{title:"计划设置",description:""}}),a("el-step",{attrs:{title:"宝贝设置",description:""}})],1)],1),a("el-container",[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("div",{staticStyle:{width:"600px","margin-top":"10px"}},[a("el-form-item",{attrs:{label:"计划名称"}},[a("el-input",{attrs:{placeholder:"计划名称",maxlength:"20","show-word-limit":""},model:{value:t.campaign.title,callback:function(e){t.$set(t.campaign,"title",e)},expression:"campaign.title"}})],1),a("el-form-item",{attrs:{label:"开启推广"}},[a("el-switch",{model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),a("el-form-item",{attrs:{label:"自动优化"}},[a("el-switch",{model:{value:t.auto,callback:function(e){t.auto=e},expression:"auto"}})],1),t.campaign.campaign_id?a("el-form-item",{attrs:{label:"每日限额"}},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v(t._s(t.budget)+"元 ")]),a("el-dialog",{attrs:{title:"日限额",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",[a("el-form-item",{attrs:{label:"投放预算"}},[a("el-input-number",{model:{value:t.newbudget,callback:function(e){t.newbudget=e},expression:"newbudget"}})],1),a("el-form-item",{attrs:{label:"快捷选项"}},[a("el-tag",{on:{click:function(e){t.newbudget=100}}},[t._v(" 100 ")]),a("el-tag",{attrs:{type:"success"},on:{click:function(e){t.newbudget=200}}},[t._v(" 200 ")]),a("el-tag",{attrs:{type:"warning"},on:{click:function(e){t.newbudget=300}}},[t._v(" 300 ")]),a("el-tag",{attrs:{type:"danger"},on:{click:function(e){t.newbudget=500}}},[t._v(" 500 ")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveNewBudget}},[t._v("确 定")])],1)])],1):a("el-form-item",{attrs:{label:"每日限额"}},[a("el-input",{model:{value:t.budget,callback:function(e){t.budget=e},expression:"budget"}})],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:t.AutoSaveStep1}},[t._v(" 保存 ")]),a("el-button",{on:{click:t.go2next}},[t._v(" 下一步 ")])],1)],1)],1)},n=[],s=a("1bab"),o={data:function(){return{campaign_id:0,title:"",auto:!1,status:!1,budgetLimit:!0,budget:0,newbudget:0,options:[50,100,200],campaign:{},dialogFormVisible:!1}},components:{},watch:{auto:function(t){this.campaign.auto=this.auto?"1":"0"},status:function(t){this.campaign.online_status=this.status?"online":"offline"}},methods:{AutoSaveStep1:function(){var t=this;this.campaign.budget=this.budget,Object(s["a"])({url:"/auto/AutoSaveStep1",params:this.campaign}).then((function(e){console.log("submit:",e),t.$notify({title:"成功",message:"操作成功",type:"success"})}))},getCampaignsBudget:function(){var t=this;Object(s["a"])({url:"/auto/getCampaignsBudget",params:this.campaign}).then((function(e){console.log("getCampaignsBudget:",e),t.budget=t.newbudget=e.data.campaign_budget.budget}))},saveNewBudget:function(){var t=this;this.newbudget!=this.budget&&(this.campaign.budget=this.newbudget,Object(s["a"])({url:"/auto/saveCampaignsBudget",params:this.campaign}).then((function(e){console.log("saveCampaignsBudget:",e),t.budget=e.data.campaign_budget.budget,t.$notify({title:"成功",message:"操作成功",type:"success"})}))),this.dialogFormVisible=!1},go2next:function(){this.$router.push({path:"viewCampaignsStep2",query:this.campaign})},goBack:function(){this.$router.back()},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}},mounted:function(){this.campaign=this.$route.query,this.status="online"==this.campaign.online_status,this.auto="1"==this.campaign.auto,this.campaign.campaign_id&&this.getCampaignsBudget()}},l=o,c=(a("1605"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"6bb1b389",null);e["default"]=u.exports},cc1c:function(t,e,a){}}]);
//# sourceMappingURL=chunk-38626ac9.87eab6b8.js.map