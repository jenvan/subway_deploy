(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b7c8c27"],{1141:function(t,e,a){},"1ff0":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("el-container",[a("el-aside",{staticStyle:{overflow:"hidden"},attrs:{width:t.asideWidth}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"开","inactive-text":"关"},model:{value:t.isCollapse,callback:function(e){t.isCollapse=e},expression:"isCollapse"}}),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:!t.isCollapse},on:{open:t.handleOpen,close:t.handleClose}},t._l(t.CampaignsList,(function(e,o){return a("el-submenu",{key:e.campaign_id,attrs:{index:e.campaign_id}},[a("template",{slot:"title"},[t._v("\n                  "+t._s(e.title)+"\n                  "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title)+"("+t._s(e.adgroup.length)+")")])]),a("el-menu-item-group",t._l(e.adgroup,(function(o){return a("el-menu-item",{attrs:{index:e.campaign_id+"-"+o.adgroup_id},on:{click:function(e){return t.filterData([["adgroup_id","==",o.adgroup_id]])}}},[t._v(t._s(o.title))])})),1)],2)})),1)],1),a("el-main",[a("div",{staticClass:"top-option"},[t._v("\n                选择数据周期：\n                "),a("el-select",{on:{change:t.resetDuringTime},model:{value:t.duringTime,callback:function(e){t.duringTime=e},expression:"duringTime"}},[a("el-option",{attrs:{label:"昨天",value:"last1day"}}),a("el-option",{attrs:{label:"最近7天",value:"last7days"}}),a("el-option",{attrs:{label:"最近14天",value:"last14days"}}),a("el-option",{attrs:{label:"最近30天",value:"last30days"}})],1)],1),a("el-dialog",{attrs:{title:"修改人群溢价",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"固定溢价","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[a("el-input",{attrs:{disabled:"1"!=t.form.radio},model:{value:t.form.value1,callback:function(e){t.$set(t.form,"value1",e)},expression:"form.value1"}})],1)],1),a("el-form-item",{attrs:{label:"比例溢价","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"2"},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[a("el-select",{attrs:{disabled:"2"!=t.form.radio},model:{value:t.form.method2,callback:function(e){t.$set(t.form,"method2",e)},expression:"form.method2"}},[a("el-option",{attrs:{label:"增加",value:"plus"}}),a("el-option",{attrs:{label:"减少",value:"decrease"}})],1),a("el-input",{attrs:{disabled:"2"!=t.form.radio},model:{value:t.form.rate2,callback:function(e){t.$set(t.form,"rate2",e)},expression:"form.rate2"}}),t._v("%  溢价不高于："),a("el-input",{attrs:{disabled:"2"!=t.form.radio},model:{value:t.form.limit2,callback:function(e){t.$set(t.form,"limit2",e)},expression:"form.limit2"}})],1)],1),a("el-form-item",{attrs:{label:"增减溢价","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"3"},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[a("el-select",{attrs:{disabled:"3"!=t.form.radio},model:{value:t.form.method3,callback:function(e){t.$set(t.form,"method3",e)},expression:"form.method3"}},[a("el-option",{attrs:{label:"增加",value:"plus"}}),a("el-option",{attrs:{label:"减少",value:"decrease"}})],1),a("el-input",{attrs:{disabled:"3"!=t.form.radio},model:{value:t.form.rate3,callback:function(e){t.$set(t.form,"rate3",e)},expression:"form.rate3"}}),t._v("   溢价不高于："),a("el-input",{attrs:{disabled:"3"!=t.form.radio},model:{value:t.form.limit3,callback:function(e){t.$set(t.form,"limit3",e)},expression:"form.limit3"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",id:"change-discount-submit"}},[t._v("确 定")])],1)],1),a("div",{staticClass:"toolbar form-inline"},[a("el-button",{attrs:{id:"btn-online","data-action":"online"}},[t._v("开始推广")]),a("el-button",{attrs:{id:"btn-offline","data-action":"offline"}},[t._v("停止推广")]),a("el-button",{attrs:{id:"btn-delete","data-action":"delete"}},[t._v("删除")]),a("el-button",{attrs:{id:"btn-discount","data-action":"discount"}},[t._v("修改溢价")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table-div",attrs:{"element-loading-text":t.loadingText}},[a("table",{staticStyle:{width:"2500px"},attrs:{id:"table"}}),a("div",[t._v("汇总数据：")]),a("div",[t._v("总展现："+t._s(t.totalImpression)+" 总点击："+t._s(t.totalClick)+" 总花费："+t._s((t.totalCost/100).toFixed(2))+"元 ,点击单价"+t._s((t.totalCost/100/t.totalClick).toFixed(2))+"元，成交金额"+t._s((t.totalTransactiontotal/100).toFixed(2))+"元，成交数量"+t._s(t.totalTransactionshippingtotal)+"，购物车数"+t._s(t.totalCarttotal)+"，总收藏数"+t._s(t.totalFavtotal)+"，")])])],1)],1)],1)},i=[],l=a("fa26"),r=l["a"],n=(a("bbfe"),a("2877")),s=Object(n["a"])(r,o,i,!1,null,null,null);e["default"]=s.exports},"2f21":function(t,e,a){"use strict";var o=a("79e5");t.exports=function(t,e){return!!t&&o((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,a){"use strict";var o=a("5ca1"),i=a("d8e8"),l=a("4bf8"),r=a("79e5"),n=[].sort,s=[1,2,3];o(o.P+o.F*(r((function(){s.sort(void 0)}))||!r((function(){s.sort(null)}))||!a("2f21")(n)),"Array",{sort:function(t){return void 0===t?n.call(l(this)):n.call(l(this),i(t))}})},ac6a:function(t,e,a){for(var o=a("cadf"),i=a("0d58"),l=a("2aba"),r=a("7726"),n=a("32e9"),s=a("84f2"),_=a("2b4c"),d=_("iterator"),c=_("toStringTag"),u=s.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(m),b=0;b<f.length;b++){var p,h=f[b],g=m[h],w=r[h],v=w&&w.prototype;if(v&&(v[d]||n(v,d,u),v[c]||n(v,c,h),s[h]=u,g))for(p in o)v[p]||l(v,p,o[p],!0)}},bbfe:function(t,e,a){"use strict";var o=a("1141"),i=a.n(o);i.a},fa26:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__),_home_runner_work_subway_subway_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bd86"),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("55dd"),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_2__),_network_request_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1bab"),qs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4328"),qs__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_4__);__webpack_exports__["a"]={name:"auto",data:function(){return{columns:[{checkbox:!0},{title:"人群ID",field:"crowd_crowd_id",sortable:!0},{field:"campaign_title",title:"计划",sortable:!0,width:"200px"},{field:"crowd_name",title:"人群",sortable:!0,width:"240px"},{field:"discount",title:"溢价",sortable:!0,width:"80px"},{field:"online_status",title:"状态",sortable:!0,width:"80px"},{field:"crowd_type",title:"人群类型",sortable:!0,width:"100px"},{field:"num_iid_title",title:"宝贝",sortable:!0,width:"250px",class:"table-item-title"},{field:"num_iid",title:"宝贝num_iid",sortable:!0},{field:"click",title:"点击",sortable:!0},{field:"cost",title:"花费",sortable:!0},{field:"cpc",title:"单次点击费用",sortable:!0},{field:"cpm",title:"单次展示费用",sortable:!0},{field:"roi",title:"ROI",sortable:!0},{field:"ctr",title:"点击率",sortable:!0},{field:"favototal",title:"收藏总数",sortable:!0},{field:"carttotal",title:"加购物车",sortable:!0},{field:"impression",title:"展示",sortable:!0},{field:"transactionshippingtotal",title:"成交数量",sortable:!0},{field:"transactiontotal",title:"成交金额",sortable:!0}],data:[],TableData:[],loadDataTimes:0,options:{search:!0,showColumns:!0,sortable:!0,sorting:!0,singleSelect:!0},dialogFormVisible:!1,form:{radio:"1",value1:"",method2:"plus",rate2:"",limit2:"300",method3:"plus",rate3:"",limit3:"300"},formLabelWidth:"200",duringTime:"last1day",loading:!1,loadingText:"加载中",isCollapse:!0,CampaignsList:[],totalClick:0,totalCost:0,totalImpression:0,totalCarttotal:0,totalTransactionshippingtotal:0,totalTransactiontotal:0,totalFavtotal:0,asideWidth:"250px"}},components:{},watch:{isCollapse:function(t){this.asideWidth=t?"250px":"100px"}},methods:{handleOpen:function(t,e){console.log(t,e),this.filterData([["campaign_id","==",t]])},handleClose:function(t,e){console.log(t,e)},resetDuringTime:function(){var t=this,e=this;this.loading=!0,Object(_network_request_js__WEBPACK_IMPORTED_MODULE_3__["a"])({url:"/crowd/getCrowdByDuringTime",params:{duringTime:this.duringTime}}).then((function(a){var o;console.log("getCrowdByDuringTime:",a),t.data=a.data,t.loadDataTimes<1?(t.loadDataTimes++,0==t.data.length&&t.$message("需要获取更新数据，请耐心等待……"),t.SyncCamppaignAdgroupCrowd()):t.loading=!1,t.resetTotalData(a.data),$("#table").bootstrapTable("destroy").bootstrapTable((o={method:"GET",uniqueId:"id",striped:!1,cache:!1,sortable:!0,sortOrder:"asc",sidePagination:"client",undefinedText:"--",showColumns:!0,toolbar:"#item_info_toolbar",search:!0,strictSearch:!0,clickToSelect:!0,pagination:!0,pageNumber:1,pageSize:20,pageList:[5,10,20,50,100],paginationPreText:"上一页",paginationNextText:"下一页",paginationLoop:!1,queryParams:function(t){var e={rows:t.limit,page:t.offset/t.limit+1,sort:t.sort,sortOrder:t.order};return e},columns:e.columns,data:a.data},Object(_home_runner_work_subway_subway_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(o,"toolbar",".toolbar"),Object(_home_runner_work_subway_subway_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(o,"fixedColumns",!0),Object(_home_runner_work_subway_subway_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(o,"fixedNumber",1),Object(_home_runner_work_subway_subway_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(o,"onLoadSuccess",(function(){alert("表格加载成功！")})),Object(_home_runner_work_subway_subway_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(o,"onLoadError",(function(){showTips("数据加载失败！")})),Object(_home_runner_work_subway_subway_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(o,"onDblClickRow",(function(t,e){t.ID})),Object(_home_runner_work_subway_subway_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])(o,"rowStyle",(function(t,e){var a="";return 1==e&&(a="warning",console.log(t)),{classes:a}})),o))}))},SyncCamppaignAdgroupCrowd:function(){var t=this;Object(_network_request_js__WEBPACK_IMPORTED_MODULE_3__["a"])({url:"/crowd/SyncCamppaignAdgroupCrowd"}).then((function(e){console.log("SyncCamppaignAdgroupCrowd:",e),console.log(t.data.length),0==t.data.length?(console.log("reget data"),t.resetDuringTime()):t.loading=!1}))},filterData:function filterData(filter){var newData=[],str=[];filter.forEach((function(t){str.push("(item."+t[0]+" "+t[1]+" "+t[2]+")")})),console.log(str.join("&&")),this.data.forEach((function(item){eval(str.join("&&"))&&newData.push(item)})),this.TableData=newData,this.resetTotalData(newData),$("#table").bootstrapTable("load",newData)},resetTotalData:function(t){for(var e=0,a=0,o=0,i=0,l=0,r=0,n=0,s=0;s<t.length;s++)"undefined"!=typeof t[s]["click"]&&(e+=parseInt(t[s]["click"])),"undefined"!=typeof t[s]["cost"]&&(a+=parseInt(t[s]["cost"])),"undefined"!=typeof t[s]["impression"]&&(o+=parseInt(t[s]["impression"])),"undefined"!=typeof t[s]["carttotal"]&&(i+=parseInt(t[s]["carttotal"])),"undefined"!=typeof t[s]["transactionshippingtotal"]&&(l+=parseInt(t[s]["transactionshippingtotal"])),"undefined"!=typeof t[s]["transactiontotal"]&&(r+=parseInt(t[s]["transactiontotal"]),console.log(r)),"undefined"!=typeof t[s]["favtotal"]&&(n+=parseInt(t[s]["favtotal"]));this.totalClick=e,this.totalCost=a,this.totalImpression=o,this.totalCarttotal=i,this.totalTransactionshippingtotal=l,this.totalTransactiontotal=r,this.totalFavtotal=n}},computed:{},mounted:function(){var t=this,e=this;this.resetDuringTime(),Object(_network_request_js__WEBPACK_IMPORTED_MODULE_3__["a"])({url:"/crowd/CampaignsGet"}).then((function(e){console.log("CampaignsGet:",e),t.CampaignsList=e.data}));var a=$("#table"),o=$("#button");function i(t,o){var i=a.bootstrapTable("getSelections");0!=i.length?e.$confirm("确定要执行批量操作？(影响"+i.length+"项)","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(_network_request_js__WEBPACK_IMPORTED_MODULE_3__["a"])({url:"/crowd/updateCrowd",data:qs__WEBPACK_IMPORTED_MODULE_4___default.a.stringify({selected:i,action:t,value:o}),method:"post"}).then((function(t){console.log("status:",t)}))})):e.$message.error("请先勾选要操作的列表项")}o.click((function(){alert("getSelections: "+JSON.stringify(a.bootstrapTable("getSelections")))})),$("#btn-online").click((function(){i("state","online")})),$("#btn-offline").click((function(){i("state","offline")})),$("#btn-delete").click((function(){i("delete","")})),$("#btn-discount").click((function(){e.dialogFormVisible=!0})),$("#change-discount-submit").click((function(){i("discount",e.form)}))}}}).call(this,__webpack_require__("1157"))}}]);
//# sourceMappingURL=chunk-6b7c8c27.516d2870.js.map