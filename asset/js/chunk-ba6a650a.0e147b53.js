(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba6a650a"],{"0da0":function(t,e,i){"use strict";var a=i("3735"),s=i.n(a);s.a},"14fa":function(t,e,i){},3735:function(t,e,i){},"391f":function(t,e,i){"use strict";var a=i("14fa"),s=i.n(a);s.a},4367:function(t,e,i){},"8dea":function(t,e,i){"use strict";var a=i("db3f"),s=i.n(a);s.a},ac6a:function(t,e,i){for(var a=i("cadf"),s=i("0d58"),o=i("2aba"),n=i("7726"),r=i("32e9"),l=i("84f2"),c=i("2b4c"),d=c("iterator"),u=c("toStringTag"),m=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=s(h),g=0;g<p.length;g++){var v,_=p[g],f=h[_],y=n[_],C=y&&y.prototype;if(C&&(C[d]||r(C,d,m),C[u]||r(C,u,_),l[_]=m,f))for(v in a)C[v]||o(C,v,a[v],!0)}},c0da:function(t,e,i){"use strict";var a=i("4367"),s=i.n(a);s.a},db3f:function(t,e,i){},e762:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-content"},[i("el-page-header",{attrs:{content:"查看计划"},on:{back:t.goBack}}),i("div",{staticClass:"top-step"},[i("el-steps",{staticStyle:{width:"30%"},attrs:{active:1}},[i("el-step",{attrs:{title:"计划设置",description:""}}),i("el-step",{attrs:{title:"宝贝设置",description:""}})],1)],1),i("el-container",[i("el-aside",{attrs:{width:"500px"}},[i("div",[i("el-button",{attrs:{type:"primary"},on:{click:t.handleChooseGoods}},[t._v(" 添加商品 ")])],1),t._l(t.adgroup,(function(e,a){return i("div",{key:e.num_iid,staticClass:"adgroup-item",class:t.adgroup_active==e?"adgroup-active":"",on:{click:function(i){return t.showAdgroup(e)}}},[i("img",{attrs:{src:e.img_url,width:"100",height:"100"}}),i("div",{staticClass:"item_title"},[t._v(t._s(e.title)+" "),i("br"),t._v(t._s(e.adgroup_id))])])})),t.adgroup?t._e():i("div",[t._v("没有数据")])],2),i("el-main",[i("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"关键词",name:"first"}}),i("el-tab-pane",{attrs:{label:"创意",name:"second"}})],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[i("transition",{attrs:{"enter-active-class":"animated fadeIn"}},["first"==t.activeName?i("div",[i("el-button",{attrs:{type:"primary"},on:{click:t.handleInitKeywords}},[t._v("初始化关键词")]),t._l(t.keywords,(function(e){return i("div",[t._v("\n                          关键词："+t._s(e.word)+"  出价："+t._s(e.max_price)+"\n                      ")])}))],2):t._e()]),i("transition",{attrs:{"enter-active-class":"animated fadeIn"}},["second"==t.activeName?i("div",[i("el-button",{attrs:{type:"primary"},on:{click:t.handleInitCreative}},[t._v("初始化创意")]),t._l(t.creatives,(function(e){return i("div",[i("img",{attrs:{src:e.img_url,width:"100",height:"100"}}),t._v("\n                          "+t._s(e.creative_id)+" "+t._s(e.title)+"\n                          \n                          "),i("el-button",{on:{click:function(i){return t.handleSetCreative(e)}}},[t._v(" 修改 ")])],1)}))],2):t._e()])],1)],1)],1),t.showChooseGoods?i("ChooseGoodsList",{ref:"DrawerChooseGoodsList",on:{ChoosedGoodsList:t.ChoosedGoodsList}}):t._e(),i("setCreative",{ref:"DrawerSetCreative"})],1)},s=[],o=(i("ac6a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-drawer",{attrs:{title:"选择商品",visible:t.drawer,direction:t.direction,size:"60%"},on:{"update:visible":function(e){t.drawer=e}}},[i("div",{staticStyle:{padding:"0 20px"}},[i("div",{staticClass:"category-search"},[i("el-select",{attrs:{placeholder:"全部类目"},model:{value:t.CategorySelect,callback:function(e){t.CategorySelect=e},expression:"CategorySelect"}},t._l(t.Category.seller_cat,(function(t){return i("el-option",{key:t.cid,attrs:{label:t.name,value:t.cid}})})),1),i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"宝贝关键词",clearable:""},model:{value:t.GoodsKeyWord,callback:function(e){t.GoodsKeyWord=e},expression:"GoodsKeyWord"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.GetItemList},slot:"append"})],1)],1),i("div",{staticClass:"el-transfer"},[[i("div",{staticClass:"my-panel el-transfer-panel_left"},[i("div",{staticClass:"item_header"},[i("div",{staticClass:"item_title"},[t._v("商品")]),i("div",{staticClass:"item_quantity",on:{click:function(e){t.orderbyNum=!t.orderbyNum}}},[t._v("销量"),i("i",{class:t.orderbyNum?"el-icon-bottom":"el-icon-top"})]),i("div",{staticClass:"item_quantity",on:{click:function(e){t.orderbySoldQuantity=!t.orderbySoldQuantity}}},[t._v("库存"),i("i",{class:t.orderbySoldQuantity?"el-icon-bottom":"el-icon-top"})])]),i("el-checkbox-group",{staticClass:"my-panel-list",attrs:{max:t.max},model:{value:t.leftChecked,callback:function(e){t.leftChecked=e},expression:"leftChecked"}},t._l(t.data,(function(e){return i("div",{staticClass:"my-panel-item"},[i("el-checkbox",{key:e.num_iid,staticClass:"item_checkbox",attrs:{label:e}}),i("div",{staticClass:"item_pic_url"},[i("img",{attrs:{src:e.pic_url,width:"60",height:"60"}})]),i("div",{staticClass:"item_title"},[t._v(t._s(e.title)),i("span",{staticClass:"item_price"},[t._v(t._s(e.price))])]),i("div",{staticClass:"item_quantity"},[t._v(t._s(e.sold_quantity))]),i("div",{staticClass:"item_num"},[t._v(t._s(e.num))])],1)})),0)],1)],[i("div",{staticClass:"my-panel el-transfer-panel_right"},[i("div",{staticClass:"item_header"},[i("div",[t._v("已选择 "+t._s(t.leftChecked.length)+" 个宝贝")]),i("div",{on:{click:t.removeAll}},[t._v("全部移除")])]),i("div",{staticClass:"my-panel-list"},t._l(t.leftChecked,(function(e,a){return i("div",{key:e.num_iid},[i("span",{staticClass:"my-panel-item"},[i("div",{staticClass:"item_pic_url"},[i("img",{attrs:{src:e.pic_url,width:"60",height:"60"}})]),i("div",{staticClass:"item_title"},[t._v(t._s(e.title)),i("span",{staticClass:"item_price"},[t._v(t._s(e.price))])]),i("div",{staticClass:"item_handle",on:{click:function(e){return t.deleteItem(a)}}},[t._v("删除")])])])})),0)])]],2),i("div",[i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",loading:t.applyLoading},on:{click:t.ChoosedGoodsList}},[t._v("立即应用")])],1)])])],1)}),n=[],r=i("1bab"),l={props:{adgroup:{type:Array}},data:function(){return{data:[],value:[],value4:[],max:3,renderFunc:function(t,e){return"<span>WTF{ option.title }</span>"},drawer:!1,direction:"rtl",applyLoading:!1,Category:[],CategorySelect:"",GoodsKeyWord:"",orderbyNum:!0,orderbySoldQuantity:!0,leftChecked:[],rightChecked:[],checked:[],num_iids:[]}},methods:{handleChange:function(t,e,i){console.log(t,e,i)},mycheck:function(t){console.log("mycheck",t),this.value4.concat(t)},GetItemList:function(){var t=this;Object(r["a"])({url:"/auto/ItemsOnsaleGet",params:{q:this.GoodsKeyWord,seller_cids:this.CategorySelect},method:"get"}).then((function(e){console.log(e);for(var i=e.data.data.items.item,a=0;a<i.length-1;a++)console.log(t.num_iids.indexOf(i[a].num_iid)),t.num_iids.indexOf(i[a].num_iid)>-1&&(console.log(i[a].num_iid+"重复"),i.splice(a,1),a--);t.data=i}))},deleteItem:function(t){this.leftChecked.splice(t,1)},removeAll:function(){this.leftChecked=[]},handleCheckedChange:function(t){alert("afa"),console.log(t),t.checked=!1},ChoosedGoodsList:function(){this.$emit("ChoosedGoodsList",this.leftChecked)}},mounted:function(){var t=this;this.GetItemList(),Object(r["a"])({url:"/auto/ShopCatsListGet",method:"get"}).then((function(e){console.log(e),t.Category=e.data.data.seller_cats})),this.$on("mychange1",(function(e){console.log(e),t.value4.concat(e.num_iid)}))},computed:{},watch:{leftChecked:function(){this.leftChecked.length>2&&this.$notify.error({title:"错误",message:"最多只能添加5个"})}}},c=l,d=(i("0da0"),i("2877")),u=Object(d["a"])(c,o,n,!1,null,null,null),m=u.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-drawer",{attrs:{title:"选择关键词",visible:t.drawer,direction:t.direction,size:"60%"},on:{"update:visible":function(e){t.drawer=e}}},[i("div",{staticStyle:{padding:"0 20px"}},[i("div",{staticClass:"category-search"},[i("el-select",{attrs:{placeholder:"全部类目"},model:{value:t.CategorySelect,callback:function(e){t.CategorySelect=e},expression:"CategorySelect"}},t._l(t.Category.seller_cat,(function(t){return i("el-option",{key:t.cid,attrs:{label:t.name,value:t.cid}})})),1),i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"宝贝关键词",clearable:""},model:{value:t.GoodsKeyWord,callback:function(e){t.GoodsKeyWord=e},expression:"GoodsKeyWord"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),i("div",{staticClass:"el-transfer"},[[i("div",{staticClass:"my-panel el-transfer-panel_left"},[i("div",{staticClass:"item_header"},[i("div",{staticClass:"item_title"},[t._v("商品")]),i("div",{staticClass:"item_quantity",on:{click:function(e){t.orderbyNum=!t.orderbyNum}}},[t._v("销量"),i("i",{class:t.orderbyNum?"el-icon-bottom":"el-icon-top"})]),i("div",{staticClass:"item_quantity",on:{click:function(e){t.orderbySoldQuantity=!t.orderbySoldQuantity}}},[t._v("库存"),i("i",{class:t.orderbySoldQuantity?"el-icon-bottom":"el-icon-top"})])]),i("el-checkbox-group",{staticClass:"my-panel-list",attrs:{max:t.max},model:{value:t.leftChecked,callback:function(e){t.leftChecked=e},expression:"leftChecked"}},t._l(t.data,(function(e){return i("div",{staticClass:"my-panel-item"},[i("el-checkbox",{key:e.num_iid,staticClass:"item_checkbox",attrs:{label:e}}),i("div",{staticClass:"item_pic_url"},[i("img",{attrs:{src:e.pic_url,width:"60",height:"60"}})]),i("div",{staticClass:"item_title"},[t._v(t._s(e.title)),i("span",{staticClass:"item_price"},[t._v(t._s(e.price))])]),i("div",{staticClass:"item_quantity"},[t._v(t._s(e.sold_quantity))]),i("div",{staticClass:"item_num"},[t._v(t._s(e.num))])],1)})),0)],1)],[i("div",{staticClass:"my-panel el-transfer-panel_right"},[i("div",{staticClass:"item_header"},[i("div",[t._v("已选择 "+t._s(t.leftChecked.length)+" 个宝贝")]),i("div",{on:{click:t.removeAll}},[t._v("全部移除")])]),i("div",{staticClass:"my-panel-list"},t._l(t.leftChecked,(function(e,a){return i("div",{key:e.num_iid},[i("span",{staticClass:"my-panel-item"},[i("div",{staticClass:"item_pic_url"},[i("img",{attrs:{src:e.pic_url,width:"60",height:"60"}})]),i("div",{staticClass:"item_title"},[t._v(t._s(e.title)),i("span",{staticClass:"item_price"},[t._v(t._s(e.price))])]),i("div",{staticClass:"item_handle",on:{click:function(e){return t.deleteItem(a)}}},[t._v("删除")])])])})),0)])]],2),i("div",[i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",loading:t.applyLoading},on:{click:t.ChoosedGoodsList}},[t._v("立即应用")])],1)])])],1)},p=[],g={props:{},data:function(){return{data:[],value:[],value4:[],max:3,renderFunc:function(t,e){return"<span>WTF{ option.title }</span>"},drawer:!1,direction:"rtl",applyLoading:!1,Category:[],CategorySelect:"",GoodsKeyWord:"",orderbyNum:!0,orderbySoldQuantity:!0,leftChecked:[],rightChecked:[],checked:[],adgroup_id:0}},methods:{handleChange:function(t,e,i){console.log(t,e,i)},mycheck:function(t){console.log("mycheck",t),this.value4.concat(t)},GetKeywordsRecommend:function(){var t=this;Object(r["a"])({url:"/auto/KeywordsRecommendGet",params:{adgroup_id:this.adgroup_id}}).then((function(e){console.log("keywords:",e),t.data=e.data.data.items.item}))},deleteItem:function(t){this.leftChecked.splice(t,1)},removeAll:function(){this.leftChecked=[]},handleCheckedChange:function(t){alert("afa"),console.log(t),t.checked=!1},ChoosedGoodsList:function(){this.$emit("ChoosedGoodsList",this.leftChecked)}},mounted:function(){this.GetKeywordsRecommend()},computed:{},watch:{leftChecked:function(){this.leftChecked.length>2&&this.$notify.error({title:"错误",message:"最多只能添加5个"})}}},v=g,_=(i("c0da"),Object(d["a"])(v,h,p,!1,null,null,null)),f=_.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-drawer",{attrs:{title:"修改创意",visible:t.drawer,direction:t.direction,size:"60%"},on:{"update:visible":function(e){t.drawer=e}}},[i("div",{staticStyle:{padding:"0 20px",width:"500px"}},[i("div",[i("img",{attrs:{src:t.creative.img_url,width:"100",height:"100"}})]),i("el-row",[t._v("\n                选择创意图片：\n            ")]),i("el-row",[i("div",{staticClass:"itemImg"},t._l(t.itemImg,(function(e){return i("div",{staticClass:"itemImg_item",class:t.creative.img_url==e.url?"itemImg_active":""},[i("img",{attrs:{src:e.url,width:"100",height:"100"},on:{click:function(i){return t.setCreativeImg(e.url)}}})])})),0)]),i("div",[t._v("创意标题：")]),i("el-input",{attrs:{value:t.creative.title,maxlength:"20","show-word-limit":""}}),t._l(t.suggestWord,(function(e){return i("span",{staticClass:"suggestword",on:{click:function(i){return t.addtoTitle(e[0])}}},[t._v("\n                "+t._s(e[0])+"\n            ")])})),i("div",[i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",loading:t.applyLoading},on:{click:function(t){}}},[t._v("立即应用")])],1)],2)])],1)},C=[],b={props:{},data:function(){return{drawer:!1,direction:"rtl",applyLoading:!1,adgroup_id:0,creative:{},itemImg:[],creative_img:"",suggestWord:[]}},methods:{setCreativeImg:function(t){this.creative.img_url=t},addtoTitle:function(t){this.creative.title=this.creative.title+t}},mounted:function(){var t=this;Object(r["a"])({url:"/auto/GetTaobaoSuggestWord",params:{},method:"get"}).then((function(e){console.log("taobao:",e),t.suggestWord=e.data.result}))},computed:{},watch:{}},k=b,w=(i("8dea"),Object(d["a"])(k,y,C,!1,null,null,null)),S=w.exports,G={data:function(){return{campaign_id:0,campaign:{},adgroup:[],adgroup_active:[],isCollapse:!1,activeName:"first",num_iid:0,itemImg:[],keywords:[],creatives:[],textarea2:"",showChooseGoods:!1,loading:!1}},components:{ChooseGoodsList:m,addKeywordsList:f,setCreative:S},watch:{},methods:{handleChooseGoods:function(){var t=this;this.showChooseGoods=!0;var e=[];this.adgroup&&this.adgroup.forEach((function(t){e.push(t.num_iid)})),this.$nextTick((function(){t.$refs.DrawerChooseGoodsList.num_iids=e,t.$refs.DrawerChooseGoodsList.drawer=!0}))},handleSetCreative:function(t){this.$refs.DrawerSetCreative.drawer=!0,this.$refs.DrawerSetCreative.creative=t,this.$refs.DrawerSetCreative.itemImg=this.itemImg},handleInitKeywords:function(){var t=this;Object(r["a"])({url:"/auto/InitKeywords",params:{adgroup_id:this.adgroup_active.adgroup_id},method:"get"}).then((function(e){console.log(e),t.$notify({title:"成功",message:"操作成功",type:"success"})}))},handleInitCreative:function(){var t=this;Object(r["a"])({url:"/auto/InitCreative",params:this.adgroup_active}).then((function(e){console.log(e),t.$notify({title:"成功",message:"操作成功",type:"success"})}))},handleInitCampaign:function(){var t=this;Object(r["a"])({url:"/auto/InitCampaign",params:{campaign_id:this.campaign.campaign_id},method:"get"}).then((function(e){console.log(e),t.$notify({title:"成功",message:"操作成功",type:"success"})}))},showAdgroup:function(t){var e=this;console.log(t),this.adgroup_active=t,this.loading=!0,Object(r["a"])({url:"/auto/KeywordsbyadgroupidGet",params:{adgroup_id:t.adgroup_id},method:"get"}).then((function(t){console.log("adgroup_keyword:",t),e.keywords=t.data.keywords.keyword})),Object(r["a"])({url:"/auto/CreativesGet",params:{adgroup_id:t.adgroup_id},method:"get"}).then((function(t){console.log("actionCreativesGet:",t),e.creatives=t.data.creatives.creative,e.loading=!1})),this.ItemSellerGet(t.num_iid)},handleCloseMobilePrice:function(){var t="";this.adgroup.forEach((function(e){t+=e.adgroup_id+","})),Object(r["a"])({url:"/auto/CloseMobilePrice",params:{adgroup_ids:t},method:"get"}).then((function(t){console.log(t),alert("关闭移动溢价成功")}))},AdgroupsbycampaignidGet:function(){var t=this;Object(r["a"])({url:"/auto/AdgroupsbycampaignidGet",params:{campaign_id:this.campaign.campaign_id},method:"get"}).then((function(e){console.log("campaign_get:",e),t.adgroup=e.data.adgroups.adgroup_list.a_d_group,t.showAdgroup(t.adgroup[0])}))},ChoosedGoodsList:function(t){var e=this;console.log(t),t.forEach((function(t){Object(r["a"])({url:"/auto/AdgroupAdd",params:{campaign_id:e.campaign.campaign_id,goods:t}}).then((function(i){console.log("adgroupadd:",i),0==i.rtn?e.$message({message:t.num_iid+"添加成功！",type:"success"}):e.$notify({title:"提示",message:t.num_iid+"添加失败！"+i.msg,duration:0})}))})),this.AdgroupsbycampaignidGet(),this.$refs.DrawerChooseGoodsList.drawer=!1},AddKeywords:function(){Object(r["a"])({url:"/auto/KeywordsvonAdd",params:{adgroup_id:this.adgroup_id},method:"get"}).then((function(t){console.log("add keyword:",t)}))},ItemSellerGet:function(t){var e=this;Object(r["a"])({url:"/auto/ItemSellerGet",params:{num_iid:t},method:"get"}).then((function(t){console.log("ItemSellerGet:",t),e.itemImg=t.data.item.item_imgs.item_img}))},goBack:function(){this.$router.back()},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}},mounted:function(){this.campaign=this.$route.query,this.AdgroupsbycampaignidGet()}},L=G,x=(i("391f"),Object(d["a"])(L,a,s,!1,null,"a5fd9db6",null));e["default"]=x.exports}}]);
//# sourceMappingURL=chunk-ba6a650a.0e147b53.js.map